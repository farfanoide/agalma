<%= simple_form_for([:backend, @menu], defaults: {input_html: {class: :'form-control'}}) do |f| %>
  <%= f.error_notification %>

  <% if @menu.general?  %>

    <div class="form-group">
      <%= f.input :name, label: :nombre %>
    </div>

    <div class="form-group">
      <%= f.association :pages,
        collection: @general_pages,
        group_method: :pages,
        label: "Paginas: ", label_method: :title,
        include_blank: false,
        as: :check_boxes %>
    </div>
    <div class="form-group">
      <%= f.input :position, label: 'Posicion',
        collection: { arriba: 'top', derecha: 'right', abajo: 'bottom' },
        as: :radio_buttons
      %>
    </div>
    <div class="form-group">
      <%= f.button :submit, 'guardar', class: :'btn btn-primary' %>
    </div>
  <% else %>
      <%= f.input :name, label: :nombre %>
    <!-- TODO: darles orden -->
    <label>Paginas: </label>
    <ol>
      <%= f.fields_for :pages, f.object.pages do |page| %>
        <li>
        <%= page.object.title %>
        <%= page.input :position %>
        </li>
      <% end %>
    </ol>

      <%= f.button :submit, 'guardar', class: :'btn btn-primary' %>
  <% end %>
<% end %>
